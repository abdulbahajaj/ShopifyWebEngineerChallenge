(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(35),c=t.n(i),o=(t(44),t(6)),l=t(7),s=t(9),d=t(8),m=t(10),u=(t(46),t(36)),v=t.n(u),h=t(1),f=t(13),E=t.n(f),p=t(14),g=t.n(p),b=t(37),N=t.n(b),y=(t(67),t(38)),k=t.n(y),w=t(15),O=t.n(w),j=function(e){function a(e){var t;Object(o.a)(this,a),(t=Object(s.a)(this,Object(d.a)(a).call(this,e))).searchHandler=t.searchHandler.bind(Object(h.a)(Object(h.a)(t))),t.filter=t.filter.bind(Object(h.a)(Object(h.a)(t))),t.search=t.search.bind(Object(h.a)(Object(h.a)(t))),t.keyboardEnter=t.keyboardEnter.bind(Object(h.a)(Object(h.a)(t))),t.favorite=t.favorite.bind(Object(h.a)(Object(h.a)(t)));for(var r=t.props,n=0;n<r.data.length;n++)r.data[n].uuid=k.a.v4(),r.data[n].favorite=!1;return t.old=r,t.renderCard=[],t.renderFavorite=[],t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"searchHandler",value:function(e){""===e.target.value?(this.renderCard=[],this.forceUpdate()):this.renderCard=this.filter(e.target.value)}},{key:"filter",value:function(e){return this.old.data.filter(function(a){if(-1!==a.keywords.indexOf(e))return a})}},{key:"keyboardEnter",value:function(e){13===e.keyCode&&this.search()}},{key:"favorite",value:function(e){var a=this.old.data.findIndex(function(a){return a.uuid===e});if(this.old.data[a].favorite){this.old.data[a].favorite=!1;var t=this.renderFavorite.findIndex(function(a){return a.uuid===e});this.renderFavorite.splice(t,1)}else this.old.data[a].favorite=!0,this.renderFavorite.push(this.old.data[a]);this.forceUpdate()}},{key:"search",value:function(){console.log("searching"),this.forceUpdate()}},{key:"render",value:function(){var e=this,a="";a=0===this.renderCard.length?n.a.createElement("div",null):this.renderCard.map(function(a,t){var r=O()(a.body),i=n.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.toString()}});return n.a.createElement("div",{className:"card",key:t},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"title"},n.a.createElement("span",{className:"iconstar"},a.favorite?n.a.createElement("img",{src:g.a,alt:"greenstar",onClick:function(t){return e.favorite(a.uuid)}}):n.a.createElement("img",{src:E.a,alt:"greystar",onClick:function(t){return e.favorite(a.uuid)}})),n.a.createElement("h2",null,a.title))),n.a.createElement("div",{className:"clearfix"}),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"description",id:"renderHTML"},i))))});var t="";return t=0===this.renderFavorite.length?n.a.createElement("div",null):this.renderFavorite.map(function(a,t){var r=O()(a.body),i=n.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.toString()}});return n.a.createElement("div",{className:"card",key:t},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"title"},n.a.createElement("span",{className:"iconstar"},a.favorite?n.a.createElement("img",{src:g.a,alt:"greenstar",onClick:function(t){return e.favorite(a.uuid)}}):n.a.createElement("img",{src:E.a,alt:"greystar",onClick:function(t){return e.favorite(a.uuid)}})),n.a.createElement("h2",null,a.title))),n.a.createElement("div",{className:"clearfix"}),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("div",{className:"description"},i))))}),n.a.createElement("div",{className:"Search container-fluid"},n.a.createElement("div",{className:"searchBar"},n.a.createElement("input",{type:"text",onChange:this.searchHandler,onKeyDown:function(a){return e.keyboardEnter(a)},name:"searchInput",placeholder:"search toronto waste..."}),n.a.createElement("img",{id:"searchIcon",src:N.a,onClick:this.search,alt:"green search icon"}),n.a.createElement("div",{className:"clearfix"})),n.a.createElement("div",{className:"searchContent",style:{paddingBottom:"20px"}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-12"},a))),n.a.createElement("div",{className:"favorites",style:{background:"rgb(247,254,250)",paddingBottom:"20px"}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"title col-md-12"},n.a.createElement("h1",{style:{marginLeft:"29px",paddingTop:"20px",color:"rgb(35,153,92)"}},"Favourites"))),n.a.createElement("div",{className:"favoriteContent"},t)))}}]),a}(r.Component),C=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(d.a)(a).call(this,e))).state={data:[],isLoading:!0},console.log("app has started"),t}return Object(m.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.a.get("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000").then(function(a){console.log(a),e.setState({data:a.data,isLoading:!1})}).catch(function(a){console.log(a),e.setState({error:a,isLoading:!1}),alert("Api request failed")})}},{key:"render",value:function(){return this.state.isLoading?n.a.createElement("div",{className:"loading"}):n.a.createElement("div",{className:"App container-default"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",null,"Toronto Waste Lookup")),n.a.createElement("div",{className:"Search-Area"},n.a.createElement(j,this.state)))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},13:function(e,a,t){e.exports=t.p+"static/media/greyStar.d3675f95.PNG"},14:function(e,a,t){e.exports=t.p+"static/media/greenStar.9679824d.PNG"},37:function(e,a,t){e.exports=t.p+"static/media/searchIcon.2477def4.PNG"},39:function(e,a,t){e.exports=t(117)},44:function(e,a,t){},46:function(e,a,t){},67:function(e,a,t){},84:function(e,a){}},[[39,2,1]]]);
//# sourceMappingURL=main.195c55bb.chunk.js.map